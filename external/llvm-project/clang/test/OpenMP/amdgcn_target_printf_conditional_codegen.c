// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// REQUIRES: amdgpu-registered-target
// REQUIRES: x86-registered-target

// RUN: %clang_cc1 -verify -fopenmp -x c -triple x86_64-unknown-unknown -fopenmp-targets=amdgcn-amd-amdhsa -emit-llvm-bc %s -o %t-host.bc
// RUN: %clang_cc1 -verify -fopenmp -x c -triple amdgcn-amd-amdhsa -fopenmp-is-device -fopenmp-targets=amdgcn-amd-amdhsa -fopenmp-host-ir-file-path %t-host.bc -emit-llvm %s -o - | FileCheck %s --check-prefix CHECK
// expected-no-diagnostics



extern int printf(const char *, ...);

int CheckInlinedConditionalArg() {
  char *true_string = "true string";
  char *false_string = "false string";



  #pragma omp target
  {
    printf("%s\n", 1 ? true_string : false_string);
  }

  return 0;
}

int CheckOutlinedConditionalArg() {
  char *true_string = "true string";
  char *false_string = "false string";



  #pragma omp target
  {
    char * conditional = 1 ? true_string : false_string;
    printf("%s\n", conditional);
  }

  return 0;
}
//// NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
// CHECK: {{.*}}
